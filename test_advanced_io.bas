10 PRINT "--- ADVANCED FILE I/O TEST (THOROUGHBRED SPEC) ---"
20 ERASE "test_adv", ERR=30
30 DIRECT "test_adv", 10, 100
40 OPEN (1) "test_adv", DIRECT
50 LET K$ = "KEY1"
60 WRITE (1, KEY=K$) "DATA 1", 100
70 REM --- TEST DOM= ON WRITE ---
80 WRITE (1, KEY=K$, DOM=100) "DATA 1", 100
90 PRINT "FOUT: WRITE ZOU MOETEN SPRINGEN NAAR 100 (DOM)"
100 PRINT "OK: DOM= OP WRITE WERKT"
110 REM --- TEST EXTRACT ---
120 LET D$ = ""
130 LET V = 0
140 EXTRACT (1, KEY=K$) D$, V
150 PRINT "EXTRACT READ: ", D$, V
160 REM --- TEST EXTRACTRECORD ---
170 LET R$ = ""
180 EXTRACTRECORD (1, KEY=K$) R$
190 PRINT "EXTRACTRECORD READ: ", R$
200 REM --- TEST ERR= ON READ ---
210 READ (1, KEY="NONEXISTENT", ERR=230) D$, V
220 PRINT "FOUT: READ ZOU MOETEN SPRINGEN NAAR 230 (ERR)"
230 PRINT "OK: ERR= OP READ WERKT"
240 REM --- TEST DOM= ON READ ---
250 READ (1, KEY="NONEXISTENT", DOM=270) D$, V
260 PRINT "FOUT: READ ZOU MOETEN SPRINGEN NAAR 270 (DOM)"
270 PRINT "OK: DOM= OP READ WERKT"
280 CLOSE (1)
300 REM --- TEST OPEN ERROR 2 (FILE NOT FOUND) ---
310 OPEN (2) "MISSING_FILE", ERR=330
320 PRINT "FOUT: OPEN ZOU MOETEN FALEN VOOR MISSING_FILE"
330 PRINT "OK: OPEN FAILED VOOR NIET-BESTAAND BESTAND (ERR=)"
340 PRINT "--- ADVANCED TEST VOLTOOID ---"
350 END
