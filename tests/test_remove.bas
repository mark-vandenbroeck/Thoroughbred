10 REM TEST REMOVE STATEMENT
20 ERASE "test_remove"
30 DIRECT "test_remove", 10, 10
40 OPEN (1) "test_remove", DIRECT
50 PRINT "WRITING RECORDS A, B, C..."
60 WRITE (1, KEY="A") "VALUE A"
70 WRITE (1, KEY="B") "VALUE B"
80 WRITE (1, KEY="C") "VALUE C"
90 REM TEST EXPLICIT REMOVE
100 REMOVE (1, KEY="B")
110 READ (1, KEY="B", DOM=130) X$
120 PRINT "FAIL: KEY B STILL EXISTS!"
125 GOTO 140
130 PRINT "PASS: KEY B REMOVED"
140 REM TEST IMPLICIT REMOVE (AFTER EXTRACT)
150 EXTRACT (1, KEY="A") Y$
160 PRINT "EXTRACTED: "; Y$
170 REMOVE (1)
180 READ (1, KEY="A", DOM=200) Z$
190 PRINT "FAIL: KEY A STILL EXISTS!"
195 GOTO 210
200 PRINT "PASS: KEY A REMOVED IMPLICITLY"
210 REM TEST DOM ON MISSING KEY
220 REMOVE (1, KEY="Z", DOM=240)
230 PRINT "FAIL: DOM NOT TAKEN FOR MISSING KEY"
235 GOTO 250
240 PRINT "PASS: DOM TAKEN FOR MISSING KEY"
250 CLOSE (1)
260 ERASE "test_remove"
270 END
